{"remainingRequest":"/Users/arthur/42/projects/camagru/camagru-vuejs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/arthur/42/projects/camagru/camagru-vuejs/src/views/Montage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/arthur/42/projects/camagru/camagru-vuejs/src/views/Montage.vue","mtime":1627521257408},{"path":"/Users/arthur/42/projects/camagru/camagru-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1625584758294},{"path":"/Users/arthur/42/projects/camagru/camagru-vuejs/node_modules/babel-loader/lib/index.js","mtime":1625584758110},{"path":"/Users/arthur/42/projects/camagru/camagru-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1625584758294},{"path":"/Users/arthur/42/projects/camagru/camagru-vuejs/node_modules/vue-loader/lib/index.js","mtime":1625584762455}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFdlYkNhbSB9IGZyb20gInZ1ZS13ZWItY2FtIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IENvbnRlbnRTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2NvbnRlbnQuc2VydmljZS5qcycKCmNvbnN0IEFQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaSc7CgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIk1vbnRhZ2UiLAogICAgcHJvcHM6IHsKICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgInZ1ZS13ZWItY2FtIjogV2ViQ2FtCiAgICB9LAogICAgICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcG9zdEFycmF5OiBbXSwKICAgICAgICAgICAgaW1nOiBudWxsLAogICAgICAgICAgICBjYW1lcmE6IG51bGwsCiAgICAgICAgICAgIGRldmljZUlkOiBudWxsLAogICAgICAgICAgICBkZXZpY2VzOiBbXSwKICAgICAgICAgICAgaW1hZ2VQYXRoOiAnJwogICAgICAgIH07CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBheGlvcy5nZXQoQVBJX1VSTCArICcvZ2V0LWltYWdlJyx7CiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgdmFyIHBvc3QgPSByZXMKICAgICAgICAgICAgdGhpcy5wb3N0QXJyYXkgPSByZXM7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5pbWcpCiAgICAgICAgICAgIHJldHVybiBwb3N0CiAgICAgICAgfSkKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHVzZXJsYXN0cG9zdDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgLy92YXIgcG9zdCA9IENvbnRlbnRTZXJ2aWNlLmdldFBvc3QoKQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKENvbnRlbnRTZXJ2aWNlLmdldFBvc3QoKSkKICAgICAgICAgICAgdmFyIHBvc3QgPSB0aGlzLmZldGNoaW1hZ2VzKCk7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5wb3N0QXJyYXkpCiAgICAgICAgICAgIHJldHVybiBwb3N0OwogICAgICAgIH0sCiAgICAgICAgZGV2aWNlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlcy5maW5kKG4gPT4gbi5kZXZpY2VJZCA9PT0gdGhpcy5kZXZpY2VJZCk7CiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgY2FtZXJhOiBmdW5jdGlvbihpZCkgewogICAgICAgICAgICB0aGlzLmRldmljZUlkID0gaWQ7CiAgICAgICAgfSwKICAgICAgICBkZXZpY2VzOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgW2ZpcnN0LCAuLi50YWlsXSA9IHRoaXMuZGV2aWNlczsKICAgICAgICAgICAgaWYgKGZpcnN0KSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYSA9IGZpcnN0LmRldmljZUlkOwogICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IGZpcnN0LmRldmljZUlkOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkNhcHR1cmUoKSB7CiAgICAgICAgICAgIHRoaXMuaW1nID0gdGhpcy4kcmVmcy53ZWJjYW0uY2FwdHVyZSgpOwogICAgICAgICAgICBDb250ZW50U2VydmljZS5zYXZlUG9zdCh0aGlzLmltZykKICAgICAgICB9LAogICAgICAgIG9uU3RhcnRlZChzdHJlYW0pIHt9LAogICAgICAgIG9uU3RvcHBlZChzdHJlYW0pIHt9LAogICAgICAgIG9uU3RvcCgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy53ZWJjYW0uc3RvcCgpOwogICAgICAgIH0sCiAgICAgICAgb25TdGFydCgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy53ZWJjYW0uc3RhcnQoKTsKICAgICAgICB9LAogICAgICAgIG9uRXJyb3IoZXJyb3IpIHt9LAogICAgICAgIG9uQ2FtZXJhcyhjYW1lcmFzKSB7CiAgICAgICAgICAgIHRoaXMuZGV2aWNlcyA9IGNhbWVyYXM7CiAgICAgICAgfSwKICAgICAgICBvbkNhbWVyYUNoYW5nZShkZXZpY2VJZCkgewogICAgICAgICAgICB0aGlzLmRldmljZUlkID0gZGV2aWNlSWQ7CiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0gZGV2aWNlSWQ7CiAgICAgICAgfQogICAgfQp9OwoK"},{"version":3,"sources":["Montage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Montage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"form-row d-flex justify-content-center\">\n            <div class=\"col-md-12\">\n                <vue-web-cam\n                    ref=\"webcam\"\n                    :device-id=\"deviceId\"\n                    width=\"100%\"\n                    @started=\"onStarted\"\n                    @stopped=\"onStopped\"\n                    @error=\"onError\"\n                    @cameras=\"onCameras\"\n                    @camera-change=\"onCameraChange\"\n                />\n                <div class=\"row mt-2 d-flex justify-content-center\">\n                    <div class=\"col-md-4\">\n                        <label for=\"device\">Camera</label>\n                        <select\n                            v-model=\"camera\"\n                            name=\"device\"\n                            id=\"device\"\n                            class=\"form-control\"\n                        >\n                            <option>Selecione o Dispositivo</option>\n                            <option\n                                v-for=\"device in devices\"\n                                :key=\"device.deviceId\"\n                                :value=\"device.deviceId\"\n                                >{{ device.label }}</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <button v-on:click=\"onCapture\">capture</button>\n        <div>\n            <template v-for=\"(post, imageindex) in postArray\">\n                \n                <img :src=\"post\" :key=\"imageindex\">\n                \n            </template>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { WebCam } from \"vue-web-cam\";\nimport axios from 'axios';\nimport ContentService from '../services/content.service.js'\n\nconst API_URL = 'http://localhost:8080/api';\n\n\nexport default {\n    name: \"Montage\",\n    props: {\n    },\n    components: {\n        \"vue-web-cam\": WebCam\n    },\n        data() {\n        return {\n            postArray: [],\n            img: null,\n            camera: null,\n            deviceId: null,\n            devices: [],\n            imagePath: ''\n        };\n    },\n    mounted() {\n        axios.get(API_URL + '/get-image',{\n        })\n        .then((res) => {\n            console.log(res)\n            var post = res\n            this.postArray = res;\n            //console.log(this.img)\n            return post\n        })\n    },\n    computed: {\n        userlastpost: function(){\n            //var post = ContentService.getPost()\n            //console.log(ContentService.getPost())\n            var post = this.fetchimages();\n            //console.log(this.postArray)\n            return post;\n        },\n        device: function() {\n            return this.devices.find(n => n.deviceId === this.deviceId);\n        }\n    },\n    watch: {\n        camera: function(id) {\n            this.deviceId = id;\n        },\n        devices: function() {\n            const [first, ...tail] = this.devices;\n            if (first) {\n                this.camera = first.deviceId;\n                this.deviceId = first.deviceId;\n            }\n        }\n    },\n    methods: {\n        onCapture() {\n            this.img = this.$refs.webcam.capture();\n            ContentService.savePost(this.img)\n        },\n        onStarted(stream) {},\n        onStopped(stream) {},\n        onStop() {\n            this.$refs.webcam.stop();\n        },\n        onStart() {\n            this.$refs.webcam.start();\n        },\n        onError(error) {},\n        onCameras(cameras) {\n            this.devices = cameras;\n        },\n        onCameraChange(deviceId) {\n            this.deviceId = deviceId;\n            this.camera = deviceId;\n        }\n    }\n};\n\n</script>\n"]}]}